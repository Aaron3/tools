AmCharts.addInitHandler(function(a){function l(a,b){var c=0,d=0,e=0,f=0,g=0,h=0,i=0,j=a.length;if(j!=b.length)throw new Error("The parameters values_x and values_y need to have same size!");if(0===j)return[[],[]];for(var k=0;j>k;k++)h=a[k],i=b[k],c+=h,d+=i,f+=h*h,e+=h*i,g++;for(var l=(g*e-c*d)/(g*f-c*c),m=d/g-l*c/g,n=[],o=[],k=0;j>k;k++)h=a[k],i=h*l+m,n.push(h),o.push(i);return[n,o]}for(var b=0;b<a.graphs.length;b++){var c=a.graphs[b],d=0,e=0;if(void 0!==c.bestFitLine){for(var f=[],g=[],h=0;h<a.dataProvider.length;h++){var i=a.dataProvider[h][c.valueField];void 0!==i&&(f.push(h),g.push(a.dataProvider[h][c.valueField]),0===d&&(d=h),e=h)}var j=l(f,g),k=c.bestFitLine;k.valueField=c.valueField+"FitLine",a.graphs.push(k),a.dataProvider[d][k.valueField]=j[1][0],a.dataProvider[e][k.valueField]=j[1][j[1].length-1],k.hideWithParent===!0&&(void 0===a.graphsWithTrendLines&&(a.graphsWithTrendLines=[]),a.graphsWithTrendLines.push(c),c.hiddenBefore=c.hidden===!0,1===a.graphsWithTrendLines.length&&a.addListener("drawn",function(b){for(var c=0;c<a.graphsWithTrendLines.length;c++){var d=a.graphsWithTrendLines[c];if(d.hidden===d.hiddenBefore)return;d.hiddenBefore=d.hidden,d.hidden&&!d.bestFitLine.hidden?a.hideGraph(d.bestFitLine):!d.hidden&&d.bestFitLine.hidden&&a.showGraph(d.bestFitLine)}}))}}},["serial"]);